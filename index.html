<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>7amada and mo7a's Link</title>
  <style>
    body {
      background-color: #007BFF;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
      text-align: center;
    }
    .button {
      background-color: #0056b3;
      color: white;
      padding: 15px 25px;
      margin: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
    }
    .hidden { display: none; }
    #feedbackSection, #rulesSection, #codeSection, #finalCodeSection, #chatSection { margin-top: 20px; }
    .chat-box { background: #111; padding: 10px; border-radius: 10px; text-align: left; max-width: 500px; margin: 0 auto; }
    .chat-message { margin-bottom: 10px; }
    .name { color: red; }
    .phone { color: purple; }
    .feedback-text { color: white; }
    textarea, input[type=text], input[type=number] {
      width: 80%;
      padding: 10px;
      border-radius: 5px;
      border: none;
      margin: 10px 0;
    }
  </style>
</head>
<body>
<h1>Welcome to 7amada and mo7a's link</h1><!-- Join Section --><button class="button" onclick="showCodeSection()">Join our WhatsApp Link</button>

<div id="codeSection" class="hidden">
  <h2>Sike!!</h2>
  <p>Code (you'll get it after 30 seconds):</p>
  <button class="button" onclick="startCountdown()">Here's the code!!</button>
  <div id="countdown" class="hidden"></div>
  <div id="finalCodeSection" class="hidden">
    <p id="codeText" onclick="copyCode()" style="cursor:pointer; font-weight:bold;"></p>
    <input type="text" id="enteredCode" placeholder="Enter the code here">
    <button class="button" onclick="checkCode()">Enter</button>
  </div>
</div><!-- Feedback Section --><button class="button" onclick="showFeedbackSection()">Feedback</button>

<div id="feedbackSection" class="hidden">
  <p>Put your name first and your phone number and the admins will contact you</p>
  <input type="text" id="feedbackName" placeholder="Name">
  <input type="number" id="feedbackPhone" placeholder="Phone Number">
  <button class="button" onclick="submitFeedbackInfo()">Submit Info</button>
  <div id="chatSection" class="hidden">
    <textarea id="feedbackText" rows="4" placeholder="Your feedback here..."></textarea>
    <button class="button" onclick="submitFeedback()">Enter</button>
    <div class="chat-box" id="chatBox"></div>
    <p style="margin-top:20px">Wait until the owners of the group answer your feedback on WhatsApp. If it's something you hate about or someone cussed or anything you didn't like, we are sorry.</p>
  </div>
</div><!-- Rules Section --><button class="button" onclick="showRulesSection()">Rules</button>

<div id="rulesSection" class="hidden">
  <h2>Rules</h2>
  <pre style="text-align:left; max-width:600px; margin:0 auto">
*_GROUP RULES:_*
*1-NO THREATENING PEOPLE-*
*_2-NO BULLYING_*
*_3-NO FIGHTING (if two fighted the two are kicked)_*
*_4-NO RACIST PEOPLE_*
*_5-NO ISREALS ALLOWED_*
*_6-DO NOT SEND SCAM LINKS_*
*_7-DO NOT SEND INPROPITE PHOTOS & VIDEOS & LINKS_*
*_8-NO LGBTQ+ PEOPLE ALLOWED EVER_*
*_9-NO CUSSING_*
---
HELLO THERE AND WELCOME TO OUR GROUP. THIS GROUP THAT YOU COULD MAKE FRIENDS THERE AND IF YOU INVITE FRIENDS, YOUR FRIENDS WILL GET SOME FRIENDS TOO.
ALSO DON'T FORGET TO FOLLOW @7amoeditz037 AND @YOURBOYMOSTAFA. IF THERE IS FIGHTS OR BULLYING OR ANYTHING WRONG IN THIS GROUP PLEASE CONTACT THE ADMINS.
SO GOODBYE AND HAVE FUN AND ENJOY OUR GROUP AND I HOPE YOU APPRECIATE OUR GROUP!!
  </pre>
</div><!-- Firebase SDKs --><script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js"></script><script>
  const firebaseConfig = {
    apiKey: "AIzaSyCM10gc_nvNAqVm_yxgXEf_aCXVj3I9QzA",
    authDomain: "amada-mo7a-link.firebaseapp.com",
    projectId: "amada-mo7a-link",
    storageBucket: "amada-mo7a-link.firebaseapp.com",
    messagingSenderId: "804465981176",
    appId: "1:804465981176:web:fceed1793688cb462a6d0d",
    measurementId: "G-B6H9KPR9VF"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script><!-- Main Script Placeholder: Will be added in next step to handle code generation and chat --><script>
  let generatedCode = '';
  function showCodeSection() {
    document.getElementById('codeSection').classList.remove('hidden');
  }
  function generateCode() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = '';
    for (let i = 0; i < 6; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    generatedCode = result;
    document.getElementById('codeText').textContent = generatedCode;
  }
  function startCountdown() {
    const countdownDiv = document.getElementById('countdown');
    let timeLeft = 30;
    countdownDiv.classList.remove('hidden');
    countdownDiv.innerText = `Wait ${timeLeft} seconds...`;
    generateCode();
    const interval = setInterval(() => {
      timeLeft--;
      countdownDiv.innerText = `Wait ${timeLeft} seconds...`;
      if (timeLeft <= 0) {
        clearInterval(interval);
        countdownDiv.classList.add('hidden');
        document.getElementById('finalCodeSection').classList.remove('hidden');
      }
    }, 1000);
  }
  function copyCode() {
    navigator.clipboard.writeText(generatedCode);
    alert('Code copied!');
  }
  function checkCode() {
    const entered = document.getElementById('enteredCode').value;
    if (entered === generatedCode) {
      window.location.href = 'https://chat.whatsapp.com/IOXkN7QB8HHDYWWvm9jAmN?mode=ac_t';
    } else {
      alert('Wrong code!');
    }
  }
  function showFeedbackSection() {
    document.getElementById('feedbackSection').classList.remove('hidden');
  }
  function submitFeedbackInfo() {
    document.getElementById('chatSection').classList.remove('hidden');
  }
  function submitFeedback() {
    const name = document.getElementById('feedbackName').value;
    const phone = document.getElementById('feedbackPhone').value;
    const text = document.getElementById('feedbackText').value;
    if (!name || !phone || !text) return alert('Fill all fields!');

    // Save feedback to Firebase
    const message = { name, phone, text, timestamp: Date.now() };
    db.ref('feedbacks').push(message);

    document.getElementById('feedbackText').value = '';
  }

  // Load existing messages from Firebase
  db.ref('feedbacks').on('child_added', snapshot => {
    const data = snapshot.val();
    const chatBox = document.getElementById('chatBox');
    const msg = document.createElement('div');
    msg.classList.add('chat-message');
    msg.innerHTML = `<span class="name">${data.name}</span> (<span class="phone">${data.phone}</span>): <span class="feedback-text">${data.text}</span>`;
    chatBox.appendChild(msg);
  });
</script></body>
</html>
